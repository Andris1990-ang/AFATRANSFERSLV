const T={};let currentLang=localStorage.getItem('lang')||'en';async function loadI18n(){const r=await fetch('/assets/js/i18n.json');Object.assign(T,await r.json());setLang(currentLang);}function setLang(c){currentLang=c;localStorage.setItem('lang',c);document.querySelectorAll('[data-i]').forEach(el=>{const p=el.getAttribute('data-i').split('.');let v=T[c];for(const k of p){v=v?.[k]}if(typeof v==='string'){el.textContent=v;}});document.querySelectorAll('[placeholder-i]').forEach(el=>{const p=el.getAttribute('placeholder-i').split('.');let v=T[c];for(const k of p){v=v?.[k]}if(typeof v==='string'){el.placeholder=v;}});document.querySelectorAll('.lang-switch button').forEach(b=>b.classList.toggle('active',b.dataset.lang===c));}addEventListener('DOMContentLoaded',loadI18n);addEventListener('click',e=>{const b=e.target.closest('.lang-switch button');if(b){setLang(b.dataset.lang);}});